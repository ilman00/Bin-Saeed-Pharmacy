<%- include('partials/header') %>
  </head>

  <body class="bg-light">
    <%- include('partials/navbar') %>
      <div class="container mt-5">
        <div class="card shadow">
          <div class="card-header bg-primary text-white">
            <h4 class="mb-0">Add New Medicine</h4>
          </div>
          <div class="card-body">

            <form action="/add-product" method="post">
              <div class="row mb-3">
                <div class="col-md-6">
                  <label class="form-label">Medicine Name</label>
                  <input type="text" name="brand" class="form-control" placeholder="e.g. Macrobac" required>
                </div>
                <div class="col-md-6">
                  <label class="form-label">Formula</label>
                  <input type="text" name="formula" class="form-control" placeholder="e.g.	Azithromycin" >
                </div>
                <div class="col-md-6">
                  <label class="form-label">Category</label>
                  <select class="form-select" name="category" required>
                    <option selected disabled>Select Category</option>
                    <option value="Cosmetic">Cosmetic</option>
                    <option value="Antibiotic">Antibiotic</option>
                    <option value="Antacid">Antacid</option>
                    <option value="Painkiller">Painkiller</option>
                    <option value="NSAID">NSAID</option>
                    <option value="Antihistamine">Antihistamine</option>
                    <option value="Antiallergic">Antiallergic</option>
                    <option value="Antidiabetic">Antidiabetic</option>
                    <option value="Cholesterol">Cholesterol</option>
                    <option value="Antihypertensive">Antihypertensive</option>
                    <option value="Blood Thinner">Blood Thinner</option>
                    <option value="Fever">Fever</option>
                    <option value="Analgesic">Analgesic</option>
                  </select>
                </div>
              </div>

              <div class="row mb-3">
                <!-- <div class="col-md-4">
                  <label class="form-label">Batch Number</label>
                  <input type="text" name="batchNumber" class="form-control" placeholder="e.g. B1234">
                </div> -->
                <!-- <div class="col-md-4">
                  <label class="form-label">Manufacturer</label>
                  <input type="text" class="form-control" name="manufacturer" placeholder="e.g. XYZ Pharma">
                </div> -->
                <div class="col-md-4">
                  <label class="form-label">Expiry Date</label>
                  <input type="date" name="expiryDate" class="form-control">
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-md-4">

                  <label class="form-label">Type <span class="text-danger">* (very Important)</span></label>
                  <select class="form-select" name="type" required>
                    <option value="medicine" selected>medicine</option>
                    <option value="cosmetic">Cosmetic</option>
                  </select>
                </div>
                <div class="col-md-4">
                  <label class="form-label">Stock Quantity <span class="text-danger">*</span></label>
                  <input type="number" name="stock" class="form-control" min="0" required>
                </div>
                <div class="col-md-4">
                  <label class="form-label">Select Unite <span class="text-danger">*</span></label>
                  <select class="form-select" name="unit" required>
                    <option selected disabled>Select Unit</option>
                    <option value="per strip">Per Strip</option>
                    <option value="per tablet">Per Tablet</option>
                    <option value="per unit">Per Unit</option>
                    <option value="per pack">Per Pack</option>
                    <option value="per bottle">Per Bottle</option>
                    <option value="per jar">Per Jar</option>
                    <option value="per tube">Per Tube</option>
                    <option value="per box">Per Box</option>
                    <option value="per piece">Per Piece</option>
                  </select>
                  
                </div>
                <div class="col-md-4">
                  <label class="form-label">Price (per unit) <span class="text-danger">*</span></label>
                  <input type="number" name="price" class="form-control" step="0.01" required>
                </div>
                <div class="col-md-4">
                  <label class="form-label">Purchase Price <span class="text-danger">*</span></label>
                  <input type="number" name="purchasePrice" class="form-control" step="0.01" required>
                </div>
                
              </div>

              <!-- <div class="mb-3">
                <label class="form-label">Description (optional)</label>
                <textarea class="form-control" name="description" rows="3"
                  placeholder="Any additional info..."></textarea>
              </div> -->
              <div class="col-md-6">


                <div class="d-flex justify-content-end">
                  <button type="reset" class="btn btn-secondary me-2">Reset</button>
                  <button id="addMedicine" type="submit" class="btn btn-success">Add Medicine</button>
                </div>
            </form>
            <div id="successMessage"
              style="display: none; position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background-color: #4CAF50; color: white; padding: 10px 20px; border-radius: 5px; box-shadow: 0 2px 6px rgba(0,0,0,0.2); z-index: 9999;">
              Medicine Added Successfully!
            </div>

          </div>
        </div>
      </div>

      <script>
        if (window.location.search.includes('success=true')) {
          // Show success message
          const messageDiv = document.getElementById('successMessage');
          messageDiv.style.display = 'block';
          setTimeout(() => {
            messageDiv.style.display = 'none';
          }, 2000);
        } else if (window.location.search.includes('success=false')) {
          // Show error message (optional)
          alert('Failed to add medicine. Please try again.');
        }
      </script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>

  </html>